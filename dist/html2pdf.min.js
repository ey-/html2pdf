/**
 * html2pdf.js v0.8.2
 * Copyright (c) 2018 Erik Koopmans
 * Released under the MIT License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("es6-promise/auto"),require("jspdf"),require("html2canvas")):"function"==typeof define&&define.amd?define(["es6-promise/auto","jspdf","html2canvas"],t):e.html2pdf=t(null,e.jsPDF,e.html2canvas)}(this,function(e,g,d){"use strict";g=g&&g.hasOwnProperty("default")?g.default:g,d=d&&d.hasOwnProperty("default")?d.default:d;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};g.getPageSize=function(e,t,n){if("object"===(void 0===e?"undefined":s(e))){var a=e;e=a.orientation,t=a.unit||t,n=a.format||n}t=t||"mm",n=n||"a4",e=(""+(e||"P")).toLowerCase();var i=(""+n).toLowerCase(),r={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(t){case"pt":var o=1;break;case"mm":o=72/25.4;break;case"cm":o=72/2.54;break;case"in":o=72;break;case"px":o=.75;break;case"pc":case"em":o=12;break;case"ex":o=6;break;default:throw"Invalid unit: "+t}if(r.hasOwnProperty(i))var l=r[i][1]/o,c=r[i][0]/o;else try{l=n[1],c=n[0]}catch(e){throw new Error("Invalid format: "+n)}if("p"===e||"portrait"===e){if(e="p",l<c){var d=c;c=l,l=d}}else{if("l"!==e&&"landscape"!==e)throw"Invalid orientation: "+e;if(e="l",c<l){d=c;c=l,l=d}}return{width:c,height:l,unit:t,k:o}};var p=function(e){var t=void 0===e?"undefined":s(e);return"undefined"===t?"undefined":"string"===t||e instanceof String?"string":"number"===t||e instanceof Number?"number":"function"===t||e instanceof Function?"function":e&&e.constructor===Array?"array":e&&1===e.nodeType?"element":"object"===t?"object":"unknown"},c=function(e,t){var n=document.createElement(e);if(t.className&&(n.className=t.className),t.innerHTML){n.innerHTML=t.innerHTML;for(var a=n.getElementsByTagName("script"),i=a.length;0<i--;null)a[i].parentNode.removeChild(a[i])}for(var r in t.style)n.style[r]=t.style[r];return n},m=function(e,t){var n={};for(var a in e)n[a]=72*e[a]/96/t;return n},t=function t(e,i){i="object"===p(i)?i:{};e=t.parseInput(e,i);var r=g.getPageSize(i.jsPDF);r.inner={width:r.width-i.margin[1]-i.margin[3],height:r.height-i.margin[0]-i.margin[2]},r.inner.ratio=r.inner.height/r.inner.width;var n=t.makeContainer(e,r),a=n.parentElement;if(i.enableLinks){i.links=[];var o=n.querySelectorAll("a"),l=m(n.getBoundingClientRect(),r.k);Array.prototype.forEach.call(o,function(e){for(var t=e.getClientRects(),n=0;n<t.length;n++){var a=m(t[n],r.k);a.left-=l.left,a.top-=l.top,i.links.push({el:e,clientRect:a})}})}var c=i.html2canvas.onrendered||function(){};delete i.html2canvas.onrendered;d(n,i.html2canvas).then(function(e){c(e),document.body.removeChild(a),t.makePDF(e,r,i)})};return t.parseInput=function(e,t){switch(t.jsPDF=t.jsPDF||{},t.html2canvas=t.html2canvas||{},t.filename=t.filename&&"string"===p(t.filename)?t.filename:"file.pdf",t.enableLinks=!t.hasOwnProperty("enableLinks")||t.enableLinks,t.image=t.image||{},t.image.type=t.image.type||"jpeg",t.image.quality=t.image.quality||.95,p(t.margin)){case"undefined":t.margin=0;case"number":t.margin=[t.margin,t.margin,t.margin,t.margin];break;case"array":if(2===t.margin.length&&(t.margin=[t.margin[0],t.margin[1],t.margin[0],t.margin[1]]),4===t.margin.length)break;default:throw"Invalid margin array."}if(!e)throw"Missing source element or string.";if("string"===p(e))e=c("div",{innerHTML:e});else{if("element"!==p(e))throw"Invalid source - please specify an HTML Element or string.";e=function e(t,n){for(var a=3===t.nodeType?document.createTextNode(t.nodeValue):t.cloneNode(!1),i=t.firstChild;i;i=i.nextSibling)!0!==n&&1===i.nodeType&&"SCRIPT"===i.nodeName||a.appendChild(e(i,n));return 1===t.nodeType&&("CANVAS"===t.nodeName?(a.width=t.width,a.height=t.height,a.getContext("2d").drawImage(t,0,0)):"TEXTAREA"!==t.nodeName&&"SELECT"!==t.nodeName||(a.value=t.value),a.addEventListener("load",function(){a.scrollTop=t.scrollTop,a.scrollLeft=t.scrollLeft},!0)),a}(e,t.html2canvas.javascriptEnabled)}return e},t.makeContainer=function(e,t){var n={position:"fixed",overflow:"hidden",zIndex:1e3,left:0,right:0,bottom:0,top:0,backgroundColor:"rgba(0,0,0,0.8)"},a={position:"absolute",width:t.inner.width+t.unit,left:0,right:0,top:0,height:"auto",margin:"auto",backgroundColor:"white"};n.opacity=0;var i=c("div",{className:"html2pdf__overlay",style:n}),r=c("div",{className:"html2pdf__container",style:a});r.appendChild(e),i.appendChild(r),document.body.appendChild(i);var o=e.querySelectorAll(".html2pdf__page-break"),l=t.inner.height*t.k/72*96;return Array.prototype.forEach.call(o,function(e){e.style.display="block";var t=e.getBoundingClientRect();e.style.height=l-t.top%l+"px"},this),r},t.makePDF=function(e,a,i){e.getContext("2d");var t=e.height,n=Math.floor(e.width*a.inner.ratio),r=Math.ceil(t/n),o=document.createElement("canvas"),l=o.getContext("2d"),c=a.inner.height;o.width=e.width,o.height=n;for(var d=new g(i.jsPDF),s=0;s<r;s++){s===r-1&&(o.height=t%n,c=o.height*a.inner.width/o.width);var m=o.width,f=o.height;l.fillStyle="white",l.fillRect(0,0,m,f),l.drawImage(e,0,s*n,m,f,0,0,m,f),s&&d.addPage();var h=o.toDataURL("image/"+i.image.type,i.image.quality);if(d.addImage(h,i.image.type,i.margin[1],i.margin[0],a.inner.width,c),i.enableLinks){var u=s*a.inner.height;i.links.forEach(function(e){if(e.clientRect.top>u&&e.clientRect.top<u+a.inner.height){var t=i.margin[1]+e.clientRect.left,n=i.margin[0]+e.clientRect.top-u;d.link(t,n,e.clientRect.width,e.clientRect.height,{url:e.el.href})}})}}"function"===p(i.pdfCallback)?i.pdfCallback(d):d.save(i.filename)},t});
